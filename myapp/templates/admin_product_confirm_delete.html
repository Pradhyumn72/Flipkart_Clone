{% extends "base.html" %}
{% load static %}

{% block title %}
Delete Product
{% endblock title %}

{% block hero %}
<div class="admin-form-container">
    <div class="admin-header">
        <h1>Delete Product</h1>
        <a href="{% url 'admin_product_list' %}" class="btn btn-secondary">← Back to Products</a>
    </div>

    <div class="form-container">
        <div class="delete-confirmation">
            <div class="warning-icon">⚠️</div>
            <h2>Are you sure you want to delete this product?</h2>
            
            <div class="product-preview">
                {% if product.image_url %}
                <div class="product-image" style="background-image: url('{{ product.image_url }}')"></div>
                {% endif %}
                <div class="product-details">
                    <h3>{{ product.title }}</h3>
                    <p><strong>Price:</strong> ₹{{ product.price }}</p>
                    <p><strong>Category:</strong> {{ product.category }}</p>
                    <p><strong>Stock:</strong> {{ product.stock }}</p>
                    <p><strong>Status:</strong> {% if product.is_active %}Active{% else %}Inactive{% endif %}</p>
                </div>
            </div>

            <div class="warning-message">
                <p><strong>This action cannot be undone!</strong></p>
                <p>All data associated with this product will be permanently deleted.</p>
            </div>

            <form method="post" class="delete-form">
                {% csrf_token %}
                <div class="form-actions">
                    <button type="submit" class="btn btn-danger">Yes, Delete Product</button>
                    <a href="{% url 'admin_product_list' %}" class="btn btn-secondary">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock hero %}

{% block css %}
{{ block.super }}
<style>
.admin-form-container {
    max-width: 600px;
    margin: 0 auto;
    padding: 2rem;
}

.admin-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--border);
}

.admin-header h1 {
    color: #fff;
    margin: 0;
}

.delete-confirmation {
    text-align: center;
}

.warning-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
}

.delete-confirmation h2 {
    color: #fff;
    margin-bottom: 2rem;
}

.product-preview {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 1rem;
    padding: 1.5rem;
    margin-bottom: 2rem;
    display: flex;
    gap: 1rem;
    align-items: center;
    text-align: left;
}

.product-image {
    width: 100px;
    height: 100px;
    border-radius: 0.5rem;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    flex-shrink: 0;
}

.product-details h3 {
    color: #fff;
    margin: 0 0 0.5rem;
}

.product-details p {
    color: var(--muted);
    margin: 0.25rem 0;
}

.warning-message {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid var(--danger);
    border-radius: 0.5rem;
    padding: 1rem;
    margin-bottom: 2rem;
}

.warning-message p {
    color: var(--danger);
    margin: 0.5rem 0;
}

.form-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
}

.btn-danger {
    background: var(--danger);
    color: #fff;
    padding: 0.875rem 2rem;
    border: none;
    border-radius: 0.5rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-danger:hover {
    background: #dc2626;
    transform: translateY(-1px);
}

.btn-secondary {
    background: var(--card);
    color: var(--text);
    padding: 0.875rem 2rem;
    border: 1px solid var(--border);
    border-radius: 0.5rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
    display: inline-block;
}

.btn-secondary:hover {
    background: var(--hover);
    color: #fff;
}

@media (max-width: 768px) {
    .product-preview {
        flex-direction: column;
        text-align: center;
    }
    
    .admin-header {
        flex-direction: column;
        gap: 1rem;
        align-items: flex-start;
    }
}
</style>
{% endblock css %}
